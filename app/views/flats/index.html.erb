
<div class="container">

  <div>
    <p>Enter a <strong>city</strong>, <strong>number of guests</strong> or <strong>both</strong> to start exploring!</p>
    <%= form_with url: flats_path, method: :get, class: "d-flex" do %>
      <%= text_field_tag :query,
        params[:query],
        class: "form-control",
        placeholder: "Start exploring!"
      %>
      <%= submit_tag "Start exploring!", class: "btn btn-search" %>
    <% end %>
  </div>

  <div class="d-flex p-2">
    <div class="cards">
      <% @flats.each do |flat| %>
        <div class="card-product d-flex p-2">
            <img src="https://raw.githubusercontent.com/lewagon/fullstack-images/master/uikit/skateboard.jpg" class="rounded img-fluid " style="height: 300px, width: 300px">
            <div class="card-product-infos">
              <div>
                <h3>
                  <%= link_to flat.address, flat_path(flat)%>, <%=flat.city%>
                </h3>
                <br> <p> <%= flat.rooms%> bedrooms
                <br> Â£<%= flat.price%> per night </p>
              </div>
            </div>
        </div>
      <% end %>
    </div>
    <div class="w-50 " style="height: 600px;"
      data-controller="map"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>

  </div>

  <div class="d-flex justify-content-center">
      <%= link_to "Create a new flat", new_flat_path(@flat), class: "btn-ghost" %>
  </div>
</div>
